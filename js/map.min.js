let map,marker,geocoder,responseDiv,response;function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:8,center:{lat:44.397,lng:20.644},mapTypeControl:!1}),geocoder=new google.maps.Geocoder;const e=document.createElement("input");e.type="text",e.placeholder="Enter a location";var o=document.createElement("input"),t=(o.type="button",o.value="Geocode",o.classList.add("button","button-primary"),document.createElement("input")),n=(t.type="button",t.value="Clear",t.classList.add("button","button-secondary"),(response=document.createElement("pre")).id="response",response.innerText="",(responseDiv=document.createElement("div")).id="response-container",responseDiv.appendChild(response),document.createElement("p"));n.id="instructions",n.innerHTML="<strong>Instructions</strong>: Enter an address in the textbox to geocode or click on the map to reverse geocode.",map.controls[google.maps.ControlPosition.TOP_LEFT].push(e),map.controls[google.maps.ControlPosition.TOP_LEFT].push(o),map.controls[google.maps.ControlPosition.TOP_LEFT].push(t),map.controls[google.maps.ControlPosition.LEFT_TOP].push(n),map.controls[google.maps.ControlPosition.LEFT_TOP].push(responseDiv),marker=new google.maps.Marker({map:map}),map.addListener("click",e=>{geocode({location:e.latLng})}),o.addEventListener("click",()=>geocode({address:e.value})),t.addEventListener("click",()=>{clear()}),clear()}function clear(){marker.setMap(null)}function geocode(e){clear(),geocoder.geocode(e).then(e=>{var o=e["results"];return map.setCenter(o[0].geometry.location),marker.setPosition(o[0].geometry.location),marker.setMap(map),response.innerText=JSON.stringify(e,null,2),o}).catch(e=>{alert("Geocode was not successful for the following reason: "+e)})}window.initMap=initMap;